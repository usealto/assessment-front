<div class="header mt-6 mb-4">
  <div class="col-5">
    <h2 class="title">{{ I18ns.userHome.statistics.title }}</h2>
    <p class="mt-2 mb-4 alto-grey">{{ I18ns.userHome.statistics.subtitle }}</p>
  </div>
  <alto-time-picker
  [durationControl]="durationControl">
  </alto-time-picker>
</div>
<div class="row">
  <div class="col-3 statistics-panel">
    <div class="panel mb-4">
      <p>
        <span class="alto-grey">
          {{ I18ns.userHome.statistics.averageScore.title }}
        </span>
        <i
          class="alto-grey bi bi-question-circle float-end"
          placement="top"
          ngbTooltip="{{ I18ns.userHome.statistics.averageScore.tooltip }}"
        ></i>
      </p>
      <div class="statistics-panel-end">
        <h1 class="d-inline-block">{{ userScore | percent }}</h1>
        <alto-progression-badge class="float-end" [score]="userScoreProgression"></alto-progression-badge>
      </div>
    </div>
    <div class="panel my-4">
      <p class="mb-4">
        <span class="alto-grey">
          {{ I18ns.userHome.statistics.finishedPrograms.title }}
        </span>
        <i
          class="alto-grey bi bi-question-circle float-end"
          placement="top"
          ngbTooltip="{{ I18ns.userHome.statistics.finishedPrograms.tooltip }}"
        ></i>
      </p>
      <div class="statistics-panel-end">
        <h1 class="d-inline-block">
          {{
            (averageFinishedPrograms | percent) +
              ' ' +
              '(' +
              finishedProgramsCount +
              '/' +
              programsCount +
              ')'
          }}
        </h1>
        <alto-progression-badge
          class="float-end mt-2"
          [score]="finishedProgramsCountProgression"
        ></alto-progression-badge>
      </div>
    </div>
    <div class="panel mt-4">
      <p class="mb-3">
        <span class="alto-grey">
          {{ I18ns.userHome.statistics.responseCount.title }}
        </span>
        <i
          class="alto-grey bi bi-question-circle float-end"
          placement="top"
          ngbTooltip="{{ I18ns.userHome.statistics.responseCount.tooltip }}"
        ></i>
      </p>
      <div class="statistics-panel-end">
        <h1 class="d-inline-block">{{ guessCount }}</h1>
        <alto-progression-badge
          class="float-end mt-2"
          [score]="guessCountProgression"
        ></alto-progression-badge>
      </div>
    </div>
  </div>
  <alto-placeholder-manager class="col-9" [status]="userChartStatus">
    <div class="panel h-100">
      <h2>{{ I18ns.userHome.statistics.progression.title }}</h2>
      <div class="chart-container">
        <alto-chart-basicline [chartOption]="userChartOptions" [initOptions]="{height: '280px'}"></alto-chart-basicline>
      </div>
    </div>
    <div class="nodata-placeholder chart-container" noData>
      <div class="text-center">
        <img [src]="EmojiName.FourOclock | emoji" height="24" width="24" />
        <p class="mt-3">
          {{ I18ns.userHome.statistics.progression.noData }}
        </p>
        <span class="d-inline-block mt-3">
          {{ I18ns.userHome.statistics.progression.noDataSubtitle }}
        </span>
      </div>
    </div>
    <div class="skeleton-panel mb-5" style="height: 497px" loading></div>
  </alto-placeholder-manager>
</div>
