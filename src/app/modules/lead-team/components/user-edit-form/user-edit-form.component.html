<div class="text-end px-4 mt-3">
  <button type="button" class="btn-close" aria-label="Close" (click)="activeOffcanvas.dismiss()"></button>
</div>
<div class="row px-6 g-0 align-items-center">
  <alto-icon-badge [size]="3.3333" icon="bi-people" color="badge-double-primary"></alto-icon-badge>
  <div class="col ms-4">
    <h2 *ngIf="user.roles.length > 1" class="mb-0">
      {{ I18ns.leadTeam.members.forms.edition.editAdmin }}
    </h2>
    <h2 *ngIf="user.roles.length === 1" class="mb-0">
      {{ I18ns.leadTeam.members.forms.edition.editUser }}
    </h2>
  </div>
</div>

<hr />

<div class="px-6 sidebar-body">
  <form *ngIf="userForm" [formGroup]="userForm">
    <label class="form-label required mt-4">{{ I18ns.leadTeam.members.forms.edition.team }}</label>

    <alto-input-single-select-pill
    [control]="teamControl"
    [options]="teamsOptions"
    [hasFormAppearance]="true">
    </alto-input-single-select-pill>

    <label class="mt-4 required" *ngIf="me.id !== user.id">{{
      I18ns.leadTeam.members.forms.edition.type
    }}</label>

    <alto-input-single-select
    [control]="typeControl"
    [options]="rolesOptions"
    [hasFormAppearance]="true">
    </alto-input-single-select>

    <p class="mt-3 subtitles">
      {{ typeControl.value.value === UserDtoApiRolesEnumApi.CompanyUser
        ? I18ns.leadTeam.members.forms.edition.userSubtitle
        : I18ns.leadTeam.members.forms.edition.adminSubtitle }}
    </p>

  </form>
</div>
<div class="footer">
  <hr class="m-0" />
  <div class="button-container">
    <button
      type="button"
      class="btn btn-outline-secondary"
      aria-label="Close"
      (click)="activeOffcanvas.dismiss()"
    >
      {{ I18ns.shared.cancel }}
    </button>
    <button
      data-cy="editMemberSave"
      type="submit"
      class="btn btn-primary float-end"
      [disabled]="!userForm.valid"
      (click)="editUser()"
    >
      {{ I18ns.leadTeam.members.forms.edition.validate }}
    </button>
  </div>
</div>
