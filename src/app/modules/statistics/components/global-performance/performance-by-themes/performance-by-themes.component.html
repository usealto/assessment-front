<div [hidden]="!scoreCount" class="score-evolution-chart panel mb-5">
  <alto-dropdown-filter
    *ngIf="items.length >= 7"
    class="float-end mx-2"
    [data]="items"
    [displayLabel]="'label'"
    [selectedItems]="selectedItems"
    [placeholder]="I18ns.statistics.globalPerformance.perThemePerformance.filters.tags"
    (selectChange)="filterTagsAndPrograms($event)"
  ></alto-dropdown-filter>
  <h2>
    {{ I18ns.statistics.globalPerformance.perThemePerformance.scoreEvolutionChart.title }}
  </h2>
  <p class="alto-grey mb-4">
    {{ I18ns.statistics.globalPerformance.perThemePerformance.scoreEvolutionChart.subtitle }}
  </p>

  <div class="chart-container">
    <alto-chart-basicline [chartOption]="chartOption" [isLoaded]="false"></alto-chart-basicline>
  </div>
</div>
<div [hidden]="scoreCount > 0" class="nodata-placeholder">
  <h2 class="mb-5 fs-6">
    {{ I18ns.statistics.globalPerformance.perThemePerformance.scoreEvolutionChart.title }}
  </h2>
  <div class="text-center">
    <img [src]="Emoji.FourOclock | emoji" height="24" />
    <p class="mt-3">
      {{ I18ns.statistics.globalPerformance.perThemePerformance.scoreEvolutionChart.placeholderTitle }}
    </p>
    <span class="d-inline-block mt-3">
      {{ I18ns.statistics.globalPerformance.perThemePerformance.scoreEvolutionChart.placeholderSubtitle }}
    </span>
  </div>
</div>

<ng-container *ngIf="tagsLeaderboard.length > 0; else noTopFlopTags">
  <alto-top-flop
    [title]="I18ns.statistics.globalPerformance.perThemePerformance.control.title"
    [subtitle]="I18ns.statistics.globalPerformance.perThemePerformance.control.subtitle"
    [leaderboard]="tagsLeaderboard"
    [size]="5"
  >
  </alto-top-flop>
</ng-container>
<ng-template #noTopFlopTags>
  <div class="nodata-placeholder">
    <h2 class="mb-5 fs-6">{{ I18ns.statistics.globalPerformance.perThemePerformance.control.title }}</h2>
    <div class="text-center">
      <img [src]="Emoji.MagnifyingGlassTiltedLeft | emoji" height="24" />
      <p class="mt-3">{{ I18ns.statistics.globalPerformance.perThemePerformance.control.placeholder }}</p>
    </div>
  </div>
</ng-template>
